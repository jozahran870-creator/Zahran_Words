/* === Helpers === */
function $q(sel, root=document){ return root.querySelector(sel); }
function $qa(sel, root=document){ return Array.from(root.querySelectorAll(sel)); }

/* === Inject minimal CSS so buttons look & react === */
(function injectCSS(){
  if ($q('#auto-style-game')) return;
  const css = `
    #grid{display:grid;grid-template-columns:repeat(8,minmax(44px,1fr));gap:8px;margin-top:8px}
    .cell{type:button;user-select:none;pointer-events:auto;outline:none;border:0;padding:12px;border-radius:14px;font-size:20px;font-weight:700;background:#f3f3f3;box-shadow:0 2px 0 rgba(0,0,0,.25);transition:.15s}
    .cell:hover{transform:translateY(-1px)}
    .cell.selected{outline:2px solid #111;transform:scale(.97)}
    .cell.locked{background:#cfd8dc;color:#455a64;opacity:.85;box-shadow:none}
    .cell:disabled{cursor:default}
    .pick-1{background:#fffbe6}.pick-2{background:#fff3cd}.pick-3{background:#ffe8a1}
    .pick-4{background:#ffd180}.pick-5{background:#ffab91}.pick-6{background:#ff8a80}
    .pick-7{background:#ff5252}.pick-8{background:#ff1744}.pick-9{background:#ff5252}
    .pick-10{background:#ffe57f}
    #controls{display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap}
    #checkBtn{padding:14px 28px;font-size:22px;font-weight:800;background:linear-gradient(90deg,#ffeb3b,#e53935);color:#111;border:2px solid #111;border-radius:12px;cursor:pointer}
    #cancelBtn{padding:14px 28px;font-size:22px;font-weight:800;background:#fff;color:#111;border:2px solid #111;border-radius:12px;cursor:pointer}
  `;
  const style = document.createElement('style');
  style.id = 'auto-style-game';
  style.textContent = css;
  document.head.appendChild(style);
})();

// Ø¨Ø¯Ù„ advanceColor
function toggleCell(btn){
  btn.classList.toggle('selected');
}

function advanceColor(btn){
  let step = parseInt(btn.dataset.step||'0',10);
  COLOR_CLASSES.forEach(c=>btn.classList.remove(c));
  btn.classList.add(COLOR_CLASSES[step % COLOR_CLASSES.length]);
  btn.dataset.step = (step+1).toString();
}

const LEVELS = [
// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1
{ words:["Ù…Ø­Ù…Ø¯ØµÙ„Ø§Ø­","ÙØ®Ø±Ø§Ù„Ø¹Ø±Ø¨","Ø±ÙˆÙ…Ø§","ØªØ´ÙŠÙ„Ø³ÙŠ","Ø£Ø³Ø·ÙˆØ±Ø©","Ø¨Ø·Ù„","Ù…Ù„Ù‡Ù…","Ù‡Ø¯Ø§Ù","Ù„ÙŠÙØ±Ø¨ÙˆÙ„","Ù…ØµØ±ÙŠ","Ù…Ù‡Ø§Ø¬Ù…","Ù†Ø¬Ø±ÙŠØ¬"], letters:[
  'Ù…','Ø­','Ù…','Ø¯','Ù‡','Ø¯','Ø§','Ù',
  'Ø¨','Ø·','Ù„','Øµ','Ø±','Ùˆ','Ù…','Ø§',
  'Ø£','Ø³','Ø·','Ù„','Ù…Ù','Ù„','Ù‡','Ù…',
  'Ø©','Ø±','Ùˆ','Ø§','Ù†','Ø¬','Ø±','Ù…',
  'Øª','Ø´','ÙŠ','Ø­','Ù…','Ù‡','ÙŠ','Øµ',
  'ÙŠ','Ø³','Ù„','Ù…','Ø¬','Ø§','Ø¬','Ø¯',
  'Ù„','ÙŠ','Ù','Ø±','Ø¨','Ùˆ','Ù„','ÙŠ',
  'Ù','Ø®','Ø±','Ø§','Ù„','Ø¹','Ø±','Ø¨'
]},

// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2
{ words:["Ø®ÙˆÙÙˆ","Ø®ÙØ±Ø¹","Ù…Ù†ÙƒØ§ÙˆØ±Ø¹","Ø§Ù„Ø¬ÙŠØ²Ø©","Ø£Ù‡Ø±Ø§Ù…Ø§Øª","ÙØ±Ø§Ø¹Ù†Ø©","Ø¹Ø¬Ø§Ø¦Ø¨Ø§Ù„Ø¯Ù†ÙŠØ§","Ø¥Ø¹Ø¬Ø§Ø²Ø¹Ù„Ù…ÙŠ","Ù…Ù‚Ø§Ø¨Ø±","Ø£Ø­Ø¬Ø§Ø±"], letters:[
  'Ø£','Ø­','Ø¬','Ø§','Ø±','Ø®','Ùˆ','Ù',
  'Ù…','Ù†','Ùƒ','Ø§','Ùˆ','Ø±','Ø¹','Ùˆ',
  'Ø§','Ø£','Ù‡','Ø±','Ø§','Ù…','Ø§','Ù',
  'Ù„','Ù…','Ù‚','Ø§','Ø¨','Ø±','Øª','Ø±',
  'Ø¬','Ø¥','Ø¹','Ø¬','Ø§','Ø²','Ø®','Ø§',
  'ÙŠ','Ù„','Ø§','Ø¨','Ø¦','Ø¹','Ù','Ø¹',
  'Ø²','Ø¯','Ø§','Ø¬','Ø§','Ù„','Ø±','Ù†',
  'Ø©','Ù†','ÙŠ','Ø¹','ÙŠ','Ù…','Ø¹','Ø©'
]},








// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3
{ words:["ÙÙ„Ø³Ø·ÙŠÙ†","Ø§Ù„Ù‚Ø¯Ø³","Ù…Ù‚Ø§ÙˆÙ…Ø©","Ø§Ø­ØªÙ„Ø§Ù„","Ø§Ù„Ø£Ù‚ØµÙ‰","Ø²ÙŠØªÙˆÙ†","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬","ØºØ²Ø©","Ø´Ù‡Ø¯Ø§Ø¡","Ø¥Ù†ØªÙØ§Ø¶Ø©","Ø£Ø­Ø¬Ø§Ø±"], letters:[
  'Ù','Ù„','Ø³','Ø·','ÙŠ','Ù†','Ø²','Ø¥',
  'Ø§','Ø§','Ù…','Ù‚','Ø§','Ùˆ','ÙŠ','Ù†',
  'Ø­','Ù„','Ù„','Ø§','Ø©','Ù…','Øª','Øª',
  'Øª','Ù‚','Ø¥','Ø³','Ø±','Ø§','Ùˆ','Ù',
  'Ù„','Ø¯','Ù„','Ø§','Ùˆ','Ø¡','Ù†','Ø§',
  'Ø§','Ø³','Ù…','Ø¹','Ø±','Ø§','Ø¬','Ø¶',
  'Ù„','Ø§','Ù„','Ø£','Ù‚','Øµ','Ù‰','Ø©',
  'Øº','Ø²','Ø©','Ø´','Ù‡','Ø¯','Ø§','Ø¡'
]},


// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 4
{ words:["Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ø§Ù„Ø¯ÙˆÙ†","Ø¹Ø§Ù„Ù…ÙŠ","Ø£Ø³Ø·ÙˆØ±Ø©","Ø§Ù„Ø¨Ø±ØªØºØ§Ù„","Ù…Ø¯Ø±ÙŠØ¯","Ø³ÙŠ","Ø³Ø¨Ø¹Ø©","Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†Ø¯ÙˆØ±","Ø¯ÙˆØ±ÙŠØ£Ø¨Ø·Ø§Ù„","Ù†Ø¬Ù…"], letters:[
  'Ø³','ÙŠ','Ø¯','ÙŠ','Ø³','Ø¨','Ø¹','Ø©',
  'Ø§','Ù„','Ø¨','Ø±','Ù†','Ø¬','Ù…','Ø±',
  'Ù„','Ø§','Ø±','Ø¯','Ø£','Ø³','Ø·','Ùˆ',
  'Ø¹','Øº','Øª','Ù…','Ø§','Ø±','Ùˆ','Ù†',
  'Ø§','Ù„','Ø§','Ø¨','Ù„','Ø©','Ø¯','Ø§',
  'Ù„','Ùˆ','Ù†','Ø·','Ø§','Ù„','Ùˆ','Ù„',
  'Ù…','Ùˆ','Ø¯','Ø¨','Ø£','ÙŠ','Ø±','Ø¯',
  'ÙŠ','Ø±','Ø§','Ù„','Ø¯','Ùˆ','Ù†','Ùˆ'
]},


// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 5
{ words:["Ø¨Ø±Ø¬Ø¥ÙŠÙÙ„","Ø¨Ø§Ø±ÙŠØ³","Ø¹Ø§Ù„ÙŠ","Ù…Ø¹Ù„Ù…","Ø³ÙŠØ§Ø­Ø©","ÙØ±Ù†Ø³Ø§","Ø­Ø¯ÙŠØ¯","Ø£ÙˆØ±ÙˆØ¨Ø§","Ø±Ù…Ø²","ØªØ°ÙƒØ§Ø±","Ø²ÙŠØ§Ø±Ø§Øª","ØªØµÙ…ÙŠÙ…","Ù‡Ù†Ø¯Ø³Ø©"], letters:[
  'Ø¯','ÙŠ','Ø¯','Ø­','Ø¹','Ø§','Ù„','Ù',
  'Ø³','Ø­','Ø©','Ø¨','Ø±','Ø¬','ÙŠ','Ø±',
  'ÙŠ','Ø§','Ù„','Ù','ÙŠ','Ø¥','Ù‡','Ù†',
  'Ø¨','Ø§','Ø±','ÙŠ','Ø³','Ø¯','Ù†','Ø³',
  'Ø§','Ø±','Ø§','ÙŠ','Ø²','Ø³','Ø©','Ø§',
  'Øª','Ø£','Øª','Ø°','Ùƒ','Ø§','Ø±','Ù…Ù',
  'Ø±','Ùˆ','Ø±','Ù…','Ø²','Ù…','Ù„','Ø¹',
  'Ùˆ','Ø¨','Ø§','Ù…','ÙŠ','Ù…','Øµ','Øª'
]},


// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 6
{ words:["ØªÙØ§Ø­Ø©","Ø£Ø¯Ù…","Ù†ÙŠÙˆØªÙ†","Ø¬Ø§Ø°Ø¨ÙŠØ©","ÙØ§ÙƒÙ‡Ø©","Ø£Ø®Ø¶Ø±","ØµØ­ÙŠ","ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª","Ø²Ø±Ø§Ø¹Ø©","Ø´Ø¬Ø±Ø©","Ø·Ø§Ù‚Ø©","Ø¹ØµÙŠØ±","ØºØ°Ø§Ø¡","Ø¨Ø°Ø±"], letters:[
  'Ø¬','Ø£','Ø®','Ù†','ÙŠ','Ùˆ','Øª','Ù†',
  'Ø§','Ø±','Ø¶','Ø©','Ù‡','Ùƒ','Ø§','Ù',
  'Ø°','Ø¨','ÙŠ','Ø©','Ø±','Ø©','Ù‚','Ø©',
  'Ø§','Øª','ÙŠ','Ù','Ø¬','Ø´','Ø§','Øº',
  'Ù…','ÙŠ','Ù†','Ø§','Øª','Ø²','Ø·','Ø°',
  'Øª','Ù','Ø§','Ø­','Ø©','Ø±','Ø©','Ø§',
  'Ø¹','Øµ','Ø¨','Øµ','Ø­','Ø§','Ø¹','Ø¡',
  'Ø±','ÙŠ','Ø°','Ø±','ÙŠ','Ø£','Ø¯','Ù…'
]},


// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 7
{ words:["Ø¨Ø¨Ø¬ÙŠ","Ù„Ø¹Ø¨Ø©","ØµÙŠÙ†ÙŠØ©","ÙØ±ÙŠÙ‚","Ù‚ØªØ§Ù„","ØªØ¹Ø§ÙˆÙ†","Ø¨ÙˆØ´ÙŠÙ†ÙƒÙŠ","Ø´Ø¯Ø§Øª","Ø£Ø³Ù„Ø­Ø©","Ù…Ø¹Ø±ÙƒØ©","Ù„ÙŠÙÙŠÙƒ","ÙÙŠÙƒØªÙˆØ±","Ø¬Ù…Ø§Ø¹ÙŠØ©"], letters:[
  'Ø¨','ÙŠ','Øµ','Ø¨','Ø¨','Ø¬','ÙŠ','Ø´',
  'Ùˆ','Ù†','ÙŠ','Ø©','Ø¬','Ù…','Ø§','Ø¯Ù‘',
  'Ø´','Øª','Ø¹','Ù…','Ø©','ÙŠ','Ø¹','Ø§',
  'ÙŠ','Ø¹','Ø±','Ù„','Ø¹','Ø¨','Ø©','Øª',
  'Ù†','Ø§','Ùƒ','Ø£','Ø­','Ø©','Ù','Ù‚',
  'Ùƒ','Ùˆ','Ø©','Ø³','Ù„','Ùƒ','Ø±','Øª',
  'ÙŠ','Ù†','Ù„','ÙŠ','Ù','ÙŠ','ÙŠ','Ø§',
  'Ù','ÙŠ','Ùƒ','Øª','Ùˆ','Ø±','Ù‚','Ù„'
]},


// Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 8
{ words:["Ø£Ù…Ø±ÙŠÙƒØ§","Ø±ÙˆØ³ÙŠØ§","Ø§Ù„ØµÙŠÙ†","ÙØ±Ù†Ø³Ø§","Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§","Ø£Ù„Ù…Ø§Ù†ÙŠØ§","ÙŠØ§Ø¨Ø§Ù†","Ø§Ù„Ù‡Ù†Ø¯","Ø¨Ø±Ø§Ø²ÙŠÙ„","Ø¥ÙŠØ·Ø§Ù„ÙŠØ§","ÙƒÙˆØ±ÙŠØ§"], letters:[
  'Ø£','Ù…','Ø±','ÙŠ','Ùƒ','Ø§','Ø±','Ùˆ',
  'Ø³','ÙŠ','Ø§','Ø§','Ù„','Øµ','ÙŠ','Ù†',
  'Ù','Ø±','Ù†','Ø³','Ø§','Ø¨','Ø±','ÙŠ',
  'Ø·','Ø§','Ù†','ÙŠ','Ø§','Ù„','Ù…','Ø§',
  'Ù†','ÙŠ','Ø§','ÙŠ','Ø§','Ø¨','Ø§','Ù†',
  'Ø§','Ù„','Ù‡','Ù†','Ø¯','Ø¨','Ø±','Ø§',
  'Ø²','ÙŠ','Ù„','Ø¥','ÙŠ','Ø·','Ø§','Ù„',
  'ÙŠ','Ø§','Ùƒ','Ùˆ','Ø±','ÙŠ','Ø§','Ù…'
]},



  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 9
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 10
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 11
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 12
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 13
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 14
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 15
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 16
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 17
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 18
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 19
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 20
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  
   // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 21
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 22
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 23
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 24
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 25
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 26
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 27
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 28
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 29
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 30
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 31
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 32
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 33
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 34
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 35
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 36
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 37
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 38
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 39
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 40
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

 
   // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 41
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 42
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 43
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 44
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 45
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 46
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 47
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 48
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 49
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 50
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 51
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 52
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 53
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 54
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 55
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 56
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 57
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 58
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 59
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 60
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

   // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 61
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 62
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 63
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 64
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 65
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 66
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 67
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 68
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 69
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 70
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 71
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 72
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 73
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 74
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 75
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 76
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 77
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 78
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 79
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 80
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 81
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 82
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 83
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 84
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 85
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 86
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 87
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 88
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 89
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 90
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 91
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 92
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 93
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 94
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 95
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 96
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 97
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 98
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 99
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
  ]},

  // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 100
  { words:[], letters:[
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','','',
    '','','','','','','',''
 
    ]}
];

 
function getLevel(idx){
  if (LEVELS[idx]) return LEVELS[idx];
  return { words:[`ÙƒÙ„Ù…Ø©${idx+1}`], letters: demoLetters() };
}

/* === State === */
let selCounter = 0;
let levelState = { found:new Set() };

/* === Pages init === */
function initHome(){
  const play = $q('#playBtn');
  if (!play) return;
  play.addEventListener('click', ()=>{
    play.style.transform='translateY(6px) scale(.98)';
    play.style.filter='saturate(1.05)';
    setTimeout(()=>{ play.style.transform=''; play.style.filter=''; },220);
  });
}
function initLevels(){
  const container = $q('#levelsContainer');
  if(!container) return;
  container.innerHTML = '';
  for(let i=1;i<=100;i++){
    const a = document.createElement('a');
    a.className='level-circle';
    a.href = `./level${i}.html`;
    a.textContent = i;
    a.setAttribute('aria-label',`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${i}`);
    container.appendChild(a);
  }
}

/* === Selection helpers === */
function toggleSelect(btn){
  if (btn.disabled) return;              // Ù…ØªØ®ØªØ§Ø±Ø´ Ø§Ù„Ù…Ù‚ÙÙˆÙ„
  const nowSelected = btn.classList.toggle('selected');
  if (nowSelected){ btn.dataset.sel = (++selCounter).toString(); }
  else { btn.dataset.sel = ''; }
  advanceColor(btn);
}
function getSelectedInOrder(grid){
  return $qa('.cell.selected',grid).sort((a,b)=>(+a.dataset.sel||0)-(+b.dataset.sel||0));
}
function clearSelection(grid){
  getSelectedInOrder(grid).forEach(c=>{
    c.classList.remove('selected');
    c.dataset.sel = '';
    c.dataset.step = 0;
    COLOR_CLASSES.forEach(cl=>c.classList.remove(cl));
  });
}
function lockSelected(grid){
  getSelectedInOrder(grid).forEach(c=>{
    c.classList.remove('selected');
    c.classList.add('locked');
    c.disabled = true;
    c.setAttribute('aria-pressed','false');
  });
}

/* === Build a level page === */
function initLevelPage(){
  const grid = $q('#grid');
  if(!grid) return;

  // reset state
  selCounter = 0;
  levelState = { found:new Set() };

  // Ø§Ø³ØªØ®Ø±Ø¬ Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù…Ù† Ø§Ø³Ù… Ø§Ù„ØµÙØ­Ø©
  const m = location.pathname.match(/level(\d+)\.html/i);
  const levelIndex = m ? (parseInt(m[1],10)-1) : 0;
  const { words, letters } = getLevel(levelIndex);

  // Ø¨Ù†Ø¨Ù†ÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
  grid.innerHTML='';
  const L = letters.length>=64 ? letters : demoLetters();
  for(let i=0;i<64;i++){
    const b = document.createElement('button');
    b.type='button';
    b.className='cell';
    b.textContent = L[i];
    b.addEventListener('click', ()=> toggleSelect(b));
    grid.appendChild(b);
  }

  // Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªØ­Øª Ø§Ù„Ø´Ø¨ÙƒØ©
  let controls = $q('#controls');
  if(!controls){
    controls = document.createElement('div');
    controls.id = 'controls';
    grid.parentNode.insertBefore(controls, grid.nextSibling);
  } else {
    controls.innerHTML='';
  }


  // Ø²Ø± Ø­Ø³Ù†Ø§
  const checkBtn = document.createElement('button');
  checkBtn.id='checkBtn';
  checkBtn.textContent='Ø­Ø³Ù†Ø§';
  controls.appendChild(checkBtn);

  // Ø²Ø± Ø¥Ù„ØºØ§Ø¡
  const cancelBtn = document.createElement('button');
  cancelBtn.id='cancelBtn';
  cancelBtn.textContent='Ø¥Ù„ØºØ§Ø¡';
  controls.appendChild(cancelBtn);

// Ø²Ø± ØªÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ù…Ø´ Ø¸Ø§Ù‡Ø± Ø¥Ù„Ø§ Ù„Ù…Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙŠØ®Ù„Øµ)
const doneBtn = document.createElement('button');
doneBtn.id = 'doneBtn';
doneBtn.textContent = 'ØªÙ…';
doneBtn.style.display = 'none'; 

// Ù†Ù†Ø³Ø® ÙƒÙ„ Ø³ØªØ§ÙŠÙ„Ø§Øª Ø²Ø± Ø­Ø³Ù†Ø§ Ø­Ø±Ù Ø­Ø±Ù
doneBtn.style.padding = '14px 28px';
doneBtn.style.fontSize = '22px';
doneBtn.style.fontWeight = '800';
doneBtn.style.background = 'green';
doneBtn.style.color = '#fff';
doneBtn.style.border = '2px solid #111';
doneBtn.style.borderRadius = '12px';
doneBtn.style.cursor = 'pointer';

// Ø­Ø· Ø§Ù„Ø²Ø± Ø¬Ù†Ø¨ controls
controls.appendChild(doneBtn);

// Event Ù„Ù„Ø²Ø± ØªÙ…
doneBtn.addEventListener('click', ()=>{
    const m = location.pathname.match(/level(\d+)\.html/i);
    const levelIndex = m ? (parseInt(m[1],10)-1) : 0;
    localStorage.setItem('level-' + (levelIndex+1), 'done');
    window.location.href = 'levels .html';
});

// ØªØ¹Ø¯ÙŠÙ„ checkBtn Ù„Ù…Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙŠØ®Ù„Øµ
checkBtn.addEventListener('click', ()=>{
   

   const selected = getSelectedInOrder(grid);
    if (!selected.length){
        alert('Ø¹Ø§Ù„Ù…ÙŠ ÙŠØ§ Ø¨Ø±Ù†Ø³ Ù‡Ø´ Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙŠ Ø¨Ø¹Ø¯Ù‡');
        return;
    }
    const done = checkWord(grid, words);
  
  if (done){
        doneBtn.style.display = 'inline-block'; // Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø²Ø± ØªÙ…
        checkBtn.disabled = true;                // Ø­Ø³Ù†Ø§ Ù…Ø´ Ø´ØºØ§Ù„
    }
});

  cancelBtn.addEventListener('click', ()=> clearSelection(grid));
}

/* === Check logic: ÙŠØ±Ø§Ø¬Ø¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù„ÙŠ Ø§Ù†Øª Ø­Ø¯Ø¯ØªÙ‡Ø§ Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ === */
function checkWord(grid, words){
  const selected = getSelectedInOrder(grid);
  const picked = selected.map(c=>c.textContent).join('');
  if (!picked){ alert('Ø§Ø®ØªØ§Ø± Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø£ÙˆÙ„ ÙŠØ§ Ù†Ø¬Ù… ğŸ˜‚'); return false; }

  // Ù…Ø§ØªØ­Ø³Ø¨Ø´ Ù†ÙØ³ Ø§Ù„ÙƒÙ„Ù…Ø© Ù…Ø±ØªÙŠÙ†
  const target = words.find(w => w === picked && !levelState.found.has(w));

  if (target){
    lockSelected(grid);              // Ù‚ÙÙ„ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù„ÙŠ Ø§Ø®ØªØ±ØªÙ‡Ø§
    levelState.found.add(target);
    alert(`Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙƒ! "${target}" ØµØ­ ğŸ‰`);
  } else {
    alert('Ù„Ø£ØŒ Ù…Ø´ Ù‡ÙŠ Ø¯ÙŠ.. Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ ğŸ˜…');
    return false;
  }

  // Ø®Ù„Ù‘ØµÙ†Ø§ ÙƒÙ„ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ØŸ
  const allDone = levelState.found.size === words.length;
  return allDone;
}
/* === Boot === */
document.addEventListener('DOMContentLoaded', ()=>{
  // Ù…Ù‡Ù…: Ø§ØªØ£ÙƒØ¯ Ø¥Ù† Ø§Ù„Ù€<body> ÙÙŠÙ‡ class Ù…Ù†Ø§Ø³Ø¨
  if (document.body.classList.contains('home-page'))   initHome();
  if (document.body.classList.contains('levels-page')) initLevels();
  if (document.body.classList.contains('level-page'))  initLevelPage();
});

function finishLevel(levelNum){
  // Ù†Ø®Ø²Ù† Ø¥Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§ØªØ­Ù„
  localStorage.setItem('level-' + levelNum, 'done');

  // Ù†Ø±ÙˆØ­ Ø¹Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
  window.location.href = 'levels.html';
}
// Ø¬Ù„Ø¨ Ø§Ù„ØªÙ‚Ø¯Ù… (Ø£Ùˆ ÙŠØ¨Ø¯Ø£ ÙØ§Ø¶ÙŠ)
let completedLevels = JSON.parse(localStorage.getItem('completedLevels')) || [];

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
function markLevelAsCompleted(levelIndex){
  if(!completedLevels.includes(levelIndex)){
    completedLevels.push(levelIndex);
    localStorage.setItem('completedLevels', JSON.stringify(completedLevels));
  }
}


LEVELS.forEach((lvl, i)=>{
  const btn = document.createElement('a');
  btn.className = 'level-btn';
  btn.innerText = i+1;

  // Ù„Ùˆ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø®Ù„ØµØ§Ù†
  if(completedLevels.includes(i)){
    btn.style.background = 'green';
    btn.innerText = 'âœ”ï¸ ' + (i+1);
  }

  btn.href = 'level.html?i='+i;
  document.querySelector('.levels-container').appendChild(btn);
});


function initLevels() {
  const container = $q('#levelsContainer');
  if(!container) return;
  container.innerHTML='';

  for(let i=1;i<=100;i++){
    const a = document.createElement('a');
    a.className='level-circle';
    a.href=`level${i}.html`;
    a.textContent=i;

    // Ù„Ùˆ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§ØªØ­Ù„ Ù‚Ø¨Ù„ ÙƒØ¯Ù‡
    if(localStorage.getItem('level-'+i) === 'done'){
      a.textContent='âœ”';
      a.style.background='green';
    }

    container.appendChild(a);
  }
}





